# MIS Backend

This is a project based on the MIS report ( MIS Report stands for Management Information System and is an umbrella term to describe a set of reports that give a view of the day-to-day activities of a business which allows your business's functions to be analyzed. )

Tech Stack:

    Node.js: a popular and widely-used JavaScript runtime environment for building server-side applications
    Express: a fast and minimalist web framework for Node.js
    Sequelize: a promise-based ORM for Node.js which supports multiple databases like MySQL, PostgreSQL, SQLite and MSSQL
    TypeScript: a typed superset of JavaScript that compiles to plain JavaScript
    Nodemon: a tool that automatically restarts the server when changes are made to the code
    mysql2: a fast MySQL driver for Node.js which supports promises and prepared statements
    jsonwebtoken: a library for generating, verifying, and decoding JSON web tokens (JWT)
    faker: a library for generating fake data
    dotenv: a zero-dependency module that loads environment variables from a .env file

Choice of Plugins/Packages:

    Express: Chosen because it is fast, lightweight, and easy to use for building web applications and APIs.
    Sequelize: Chosen because it is a powerful ORM that supports multiple databases and has a strong community of contributors.
    TypeScript: Chosen because it provides additional type checking and helps catch errors early in the development process.
    Nodemon: Chosen to automatically restart the server during development, which saves time and improves the development experience.
    mysql2: Chosen because it is fast and supports promises and prepared statements, which can help prevent SQL injection attacks.
    jsonwebtoken: Chosen for authentication purposes because it is a widely used library for generating and verifying JSON web tokens.
    faker: Chosen for generating fake data to be used in testing and development environments.
    dotenv: Chosen to easily manage environment variables in a .env file, which makes it easier to manage configuration and secrets.

Database Schema:
    <img width="935" alt="image" src="https://user-images.githubusercontent.com/65889300/236723260-e0794ef4-14cf-45d7-84e6-a7034b272701.png">
    Users Table: This table will store all the user details such as their UUID, username, password, email, and organization UUID. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to manage user authentication and authorization in the application.

    Roles Table: This table will store all the role details such as their UUID and name. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to define the roles of the users in the organization.

    Permissions Table: This table will store all the permission details such as their UUID and name. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to define the permissions required to perform various actions in the application.

    Organizations Table: This table will store all the organization details such as their UUID and name. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to define the organizations that the users belong to.

    User Roles Table: This table will store the relationship between users and roles. It will have two foreign keys, one for the user UUID and the other for the role UUID. The purpose of this table is to manage the role assignments for the users.

    Role Permissions Table: This table will store the relationship between roles and permissions. It will have two foreign keys, one for the role UUID and the other for the permission UUID. The purpose of this table is to manage the permissions assigned to the roles.

    UI Navigation Table: This table will store all the UI navigation details such as their UUID, name, URL, and permission UUID. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to define the UI navigation links and the permissions required to access them.

    MIS_Report Table: This table will store all the MIS report details such as their UUID, report name, report type, and organization UUID. The UUID will be the primary key for the table and will be used as a foreign key in other tables. The purpose of this table is to store the data for the MIS reports.

Endpoints

    There are two endpoints in this system. The first one is /generate-token, which returns a token generated by jsonwebtoken. This token is required to access the other API endpoints. The second endpoint is /mis-report, which returns MIS data based on the report type requested. The results returned by this endpoint will be paginated.


Server Start:

    Install reddis and in a new terminal start the reddis-server
    Another terminal, run npm install and start the local server by running the npm run dev
    Make sure sql is running
    Use sequelize-cli to run sedders for dummy data

